## Web安全

### [Go安全指南](https://github.com/Tencent/secguide/blob/main/Go安全指南.md)

### SQL注入攻击

### XSS攻击

### SSRF攻击

### CSRF攻击

### 文件上传漏洞
- 文件扩展名检测
- 文件 MIME 验证
- 文件重命名
- 文件目录设置不可执行权限
- 设置单独域名的文件服务器

### 信息泄露
* 定义
- 信息泄露主要指用户的手机号、邮箱、密码、身份证、地址等敏感数据泄露，还有服务器上的文件和环境变量等敏感数据泄露，还包括将直接将企业源码上传到开发平台。
- 案例
- 比如开发接口时，接口返回明文的手机号。
- 比如调试代码时，代码中提交了一些调试信息，未进行删除。
- 等等...
* 防御
- 敏感数据脱敏（比如手机号、身份证、邮箱、地址）。
- 服务器上不允许提交包含打印 敏感信息 和 调试信息等代码。
- 定期从开发平台扫描关于企业相关的源码项目。

### 越权
* 定义
- “超出了你自己所拥有的权限，干了你本来不可能干的事情。”
- 水平越权：用户A未授权可以访问用户B的数据。
- 垂直越权：未登录用户可以访问需要授权的应用。
- 举例，本来用户A只能查看自己的订单数据，但是他通过修改URL参数就能查看到用户B的订单数据。
- 未登录的用户，可以访问到后台模块并进行操作。
* 防御
- 对于所有涉及到用户数据的操作，必须严格判断当前用户的身份。
- 对于所有需要权限控制的位置，必须严格检验用户权限级别。

### 设计缺陷
* 1.返回信息过多
* 2.短信接口被恶意攻击
- 举例，注册或登录时用户输入手机号码就可直接触发短信接口，这块最容易被攻击者进行短信轰炸。
- 应该进行增加接口调用限制：
- 设置同一手机号短信发送间隔 / 设置每个IP地址每日最大发送量 / 设置每个手机号每日最大发送量
- 升级验证码，采用滑动拼图、文字点选、图表点选./升级短信接口的验证方法
* 3.其他设计缺陷